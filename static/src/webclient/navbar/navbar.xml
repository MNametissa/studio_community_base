<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!--
        EnterpriseNavBar template - Standalone version for Community Edition
        We don't inherit from web.NavBar since the structure is different.
        This provides a simple template that web_studio can extend.
    -->
    <t t-name="web_enterprise.EnterpriseNavBar" owl="1">
        <header class="o_navbar" t-ref="root">
            <nav class="o_main_navbar" data-command-category="navbar" t-ref="nav">
                <!-- Menu toggle for mobile/Studio compatibility -->
                <a href="#" class="o_menu_toggle" t-on-click.prevent="onMenuToggle">
                    <i class="oi oi-apps"/>
                </a>

                <!-- Apps Menu with ref for Studio -->
                <div class="o_navbar_apps_menu" t-ref="menuApps">
                    <t t-call="web.NavBar.AppsMenu">
                        <t t-set="apps" t-value="menuService.getApps()" />
                    </t>
                </div>

                <!-- App Brand -->
                <DropdownItem
                    t-if="currentApp"
                    href="getMenuItemHref(currentApp)"
                    t-esc="currentApp.name"
                    class="'o_menu_brand d-none d-md-block'"
                    dataset="{ menuXmlid: currentApp.xmlid, section: currentApp.id }"
                    onSelected="() => this.onNavBarDropdownItemSelection(currentApp)"
                />

                <!-- Current App Sections -->
                <t t-if="currentAppSections.length" t-call="web.NavBar.SectionsMenu">
                    <t t-set="sections" t-value="currentAppSections" />
                </t>

                <!-- Systray -->
                <div class="o_menu_systray d-flex flex-shrink-0 ms-auto" role="menu">
                    <t t-foreach="systrayItems" t-as="item" t-key="item.key">
                        <div t-att-data-index="item.index"/>
                        <ErrorHandler onError="error => this.handleItemError(error, item)">
                            <t t-component="item.Component" t-props="item.props"/>
                        </ErrorHandler>
                    </t>
                </div>
            </nav>
        </header>
    </t>

</templates>
